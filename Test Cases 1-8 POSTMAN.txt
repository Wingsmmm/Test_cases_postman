//0. API - reqres.in/api/users, method POST, i have taken "body" from the documentation

//1. TC 1) Response format - JSON
pm.test("Response format - JSON", function() {pm.response.to.have.jsonBody()});

//2. TC 2) Check fields - i check just last 2 keys because of their values are changed for every requests
pm.test("Check fields", function() {
    const jsonData = pm.response.json();
    pm.expect(jsonData).to.have.property("createdAt");
    pm.expect(jsonData).to.have.property("id");
});

//3. TC 3) Check "key": "value"
pm.test("Key Value", () => {
  const responseJson = pm.response.json();
  pm.expect(responseJson.job).to.eql("leader");
  pm.expect(responseJson.name).to.eql("morpheus");
});

//4. TC 4) Value is not null
pm.test("Value is not null", () => {
  const responseJson = pm.response.json();
  pm.expect(responseJson.id).not.eql(null);
});

//5. TC 5) Value is not empty
pm.test("Value is not empty", () => {
  const responseJson = pm.response.json();
  pm.expect(responseJson.createdAt).not.eql("");
});

//6. TC 6) Status message "Created"
pm.test("Status message", () => {
  pm.response.to.have.status("Created");
});

//7. TC 7) Content type
pm.test("Content-Type - application/json", function () {
    pm.response.to.have.header("Content-Type", "application/json; charset=utf-8");
});

//8. TC 8) Cookie
pm.test("Cookie", () => {
  pm.expect(pm.cookies.has());
});